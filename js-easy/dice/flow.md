# サイコロアプリ

## 作るもの
- ボタンを押して 3 秒後にランダムで 1 からの 6 のサイコロの目の画像を表示するプログラム。<br>
※連続でボタンを押しても不自然な挙動が起こらないよう工夫する。

## 基本問題
- 変数isRollingをfalseで初期化。
- 「サイコロを振る」ボタンを押す
- 変数isRollingがtrueなら終了、falseならtrueにして処理継続
- 振ってるアニメーション
- 3秒後に1から6のサイコロの画像を表示する。
- 変数isRollingがfalseにする。

### グローバルオブジェクト
```mermaid
flowchart TD

1[変数isRollingをfalseで初期化] 
```

### 「サイコロを振る」ボタン
```mermaid
flowchart TD

1[サイコロを振るボタンを押す] --> 2{変数isRollingがtrue};
2 -- YES --> 3[END];
2 -- NO --> 4[変数isRollingをtrueにする];
4 --> 5[/0.1秒ごとに実行 3秒後に終了\];
5 --> 6[0から6未満の乱数発生];
6 --> 7[乱数の値 + 1のサイコロの画像を表示する];
7 --> 8[\ループ/]
8 --> 9[変数isRollingをfalseにする]
```


## 追加チャレンジ問題
- 「プレイヤー1」ボタンを押す
- 「プレーヤー1」ボタンを押せなくする。
- プレイヤー1のサイコロが振られ、3秒後に止まる(非同期)
- 「プレイヤー2」ボタンを押す。
- 「プレーヤー2」ボタンを押せなくする。
-  プレイヤー2のサイコロが振られ、3秒後に止まる(非同期)
- 両方のサイコロが止まったら、
  - #resultに
    - 「player1の勝利」(player1の目の方が大きい)
    - 「player2の勝利」
    - 「引き分け」
  - を表示する。
- 「プレイヤー1」ボタン「プレーヤー2」ボタンを押せるようにする。

### グローバルオブジェクト
```mermaid
flowchart TD

1[プレイヤー1のサイコロに画像を表示] --> 2;
2[プレイヤー2のサイコロに画像を表示]
```

### 「プレーヤー1」ボタン「プレーヤー2」ボタン
```mermaid
flowchart TD

1[プレーヤー1ボタンを押す] -->  4[プレーヤー1ボタンを押せなくする];
4 --> 5[/0.1秒ごとに実行 3秒後に終了\];
5 --> 6[0から6未満の乱数発生];
6 --> 7[乱数の値 + 1のサイコロの画像を表示する];
7 --> 8[\ループ/]
```

### 非同期処理が両方終わったとき
```mermaid
flowchart TD

1[非同期処理が両方終わったとき] -->  4{プレーヤー1の目の方が大きい};
4 -- YES --> 5[#resultにplayer1の勝利];
4 -- YES --> 6{プレーヤー2の目の方が大きい};
6 -- YES --> 7[#resultにplayer2の勝利];
6 -- NO --> 8[#resultに引き分け];
5 & 7 & 8 --> 9[プレイヤー1ボタンプレーヤー2ボタンを押せるようにする];
```

- #resultに
    - 「player1の勝利」(player1の目の方が大きい)
    - 「player2の勝利」
    - 「引き分け」
  - を表示する。
- 「プレイヤー1」ボタン「プレーヤー2」ボタンを押せるようにする。